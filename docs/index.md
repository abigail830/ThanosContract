
# 灭霸契约

旨在为使用TCP和定长报文的系统\
提供如灭霸弹指般轻松的契约测试

Target to help the systems which still using TCP & Fix-length message to implement Contract Test. 
 
---

### Background

##### 在内外部系统依赖关系比较复杂的场景下常遇到：

![](background.jpg "常见流程")

- 并行开发困难，经常需要等待联调测试
- 端到端测试才发现问题，重复翻修导致效率低
- 大量端到端测试集合成本高且不稳定

------

### Taget

契约测试让生产者与消费者之间基于契约而更高效也更高质量地并行开发，减少端到端联调的压力。

![](target.jpg "目标流程")

这在依赖关系复杂的系统间尤为重要。

---

### 灭霸契约的核心

| 目标是在开发初期就协定契约，在整个开发测试过程中以同一份契约规约双方，以测试驱动保证质量
| 
|      
 
###### 核心功能包括
- 为消费者提供挡板服务
- 为生产者提供自动化测试案例

---


### Difference

| 现有成熟的契约测试框架SpringCloudContract和Pact提供了基于HTTP+JSON格式的契约测试框架
| 
| 但现实仍有不少的系统（如银行核心系统）依然徘徊在TCP+定长报文的场景之中，无法使用契约测试的概念去提高质量和减轻对端到端测试的压力
| 
| 而灭霸契约则提供TCP+定长报文的契约测试支持

---

### 契约DSL

跟JSON的契约定义不同，定长报文DSL分两部分：

- **SCHEMA：** 基础接口定义，如类型，长度，内容
- **CONTRACT：** 具体场景下，面向一对生产者-消费者之间Request和Response的消息具体内容

| 
| _注: 编写契约有一定门槛，但完全可以通过UI的方式去降低编写门槛，如可把常用正则提前封装_





